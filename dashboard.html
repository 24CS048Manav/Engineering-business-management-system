<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="topbar">
    <div class="container topbar-inner">
        <a class="brand" href="index.html">
            <div class="brand-mark" aria-hidden="true"></div>
            <div class="brand-title">
                <strong>Hari Krupa Engineering</strong>
                <span>Admin Dashboard</span>
            </div>
        </a>

        <nav class="nav" aria-label="Primary">
            <a href="dashboard.html">Admin</a>
            <a href="inventory.html">Inventory</a>
            <a href="manage-orders.html">Orders</a>
            <a href="employees.html">Employees</a>
            <a class="btn" href="index.html">Exit Admin</a>
        </nav>
    </div>
</div>

<main class="page">
    <div class="container">
        <div class="section-title">Dashboard Overview</div>

        <div class="kpi" style="grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));">
            <div class="card">
                <strong id="totalOrders">—</strong>
                <span>Total Orders</span>
            </div>
            <div class="card">
                <strong id="pendingOrders">—</strong>
                <span>Pending Orders</span>
            </div>
            <div class="card">
                <strong id="totalRevenue">—</strong>
                <span>Total Revenue</span>
            </div>
            <div class="card">
                <strong id="productCount">—</strong>
                <span>Products</span>
            </div>
        </div>

        <div class="section-title" style="margin-top:28px;">Quick Actions</div>
        <section class="grid" aria-label="Quick actions">
            <a class="card" href="inventory.html" style="text-decoration:none;">
                <h3>Inventory</h3>
                <p>Manage stock levels, add or update products.</p>
            </a>
            <a class="card" href="manage-orders.html" style="text-decoration:none;">
                <h3>Manage Orders</h3>
                <p>View and update order status.</p>
            </a>
            <a class="card" href="billing.html" style="text-decoration:none;">
                <h3>Billing</h3>
                <p>Generate invoices and calculate GST.</p>
            </a>
            <a class="card" href="employees.html" style="text-decoration:none;">
                <h3>Employees</h3>
                <p>Manage staff and roles.</p>
            </a>
        </section>
    </div>
</main>
<script src="script.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    var orders = typeof getOrders === "function" ? getOrders() : [];
    var products = typeof getProducts === "function" ? getProducts() : [];
    var pending = orders.filter(function(o) { return (o.status || "Placed") !== "Delivered"; }).length;
    var totalRev = orders.reduce(function(s, o) { return s + (o.totals && o.totals.total ? o.totals.total : 0); }, 0);

    var el = document.getElementById("totalOrders"); if (el) el.textContent = orders.length;
    el = document.getElementById("pendingOrders"); if (el) el.textContent = pending;
    el = document.getElementById("totalRevenue"); if (el) el.textContent = typeof formatINR === "function" ? formatINR(totalRev) : "₹" + Math.round(totalRev);
    el = document.getElementById("productCount"); if (el) el.textContent = products.length;
});
</script>
</body>
</html>
